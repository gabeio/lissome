---
machine:
	node:
		version:
			- 0.10
			- 0.12
			- iojs-v1.0
			- iojs-v2.5
	services:
		- mongodb
		- redis
	environment:
		- cookie: "cookie"
		- school: "Kean University"
		- timezone: "US/Eastern"
		- mongo: "mongodb://circleci:test@localhost/lissome"
		- redis: "redis://:test@localhost/0"
	post:
		- redis-cli config set requirepass test
		- mongo lissome --eval "db.addUser('circleci', 'test');"
	    - node lib/commandline/setupschool.js
dependencies:
	pre:
		- npm install -g gulp livescript mocha
	cache_directories:
		- "node_modules"
test:
	override:
		- npm run testCi
